<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AB File Converter | Archit Bishnoi</title>

  <!-- Style -->
  <link rel="stylesheet" href="style.css">

  <!-- Firebase SDK v9+ (Modular) -->
  <script type="module">
    // Import Firebase modules
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
    import { getAuth, GoogleAuthProvider, signInWithPopup } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js";

    // Firebase config
    const firebaseConfig = {
      apiKey: "AIzaSyBowr8Vco-qwwB59sNh__ujqXDVkq-vcGc",
      authDomain: "ab-file-converter.firebaseapp.com",
      projectId: "ab-file-converter",
      storageBucket: "ab-file-converter.firebasestorage.app",
      messagingSenderId: "407503692071",
      appId: "1:407503692071:web:4a3711f184cfe8b2938902",
      measurementId: "G-L0XKHFL20H"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    // Login function
    window.loginWithGoogle = function () {
      const provider = new GoogleAuthProvider();
      signInWithPopup(auth, provider)
        .then((result) => {
          alert("Logged in as " + result.user.email);
          document.getElementById("auth-section").style.display = "none";
          document.getElementById("convert-section").style.display = "block";
        })
        .catch((error) => {
          alert("Login failed: " + error.message);
        });
    };
  </script>

  <!-- Script.js for file conversion logic -->
  <script defer src="script.js"></script>
</head>
<body>
  <div class="container">
    <h1>AB File Converter</h1>
    <p>Convert your files easily - JPG, PDF, MP3 and more</p>

    <div id="auth-section">
      <button onclick="loginWithGoogle()">Login with Google</button>
    </div>

    <div id="convert-section" style="display:none;">
      <input type="file" id="file-upload" />
      <select id="format">
        <option value="pdf">PDF</option>
        <option value="jpg">JPG</option>
        <option value="png">PNG</option>
        <option value="mp3">MP3</option>
        <option value="wav">WAV</option>
      </select>
      <button onclick="uploadAndConvert()">Convert</button>
    </div>
  </div>
</body>
</html>
